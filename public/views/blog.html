<div id="blog">
    <div class="container">
        <div class="row">
            <div class="col-sm-3">
                <p>Welcome to my humble blog. Posts may range from detailed technical articles to travel stories to life updates, whatever I think might be worth sharing :)</p>
                <dl>
                    <dt>Last Post</dt>
                    <dd class="smaller">{{ posts[0] ? moment(posts[0].created_at).fromNow() : 'n/a' }}</dd>
                </dl>
                <hr>
                <label>Tags</label>
                <ul class="tags inline-bullets">
                    <li ng-repeat="(tag, occurrences) in usedTags | orderBy:'occurrences'">
                        <a>{{ tag }}</a>
                        <span class="occurrences">[{{ occurrences }}]</span>
                    </li>
                </ul>
            </div>
            <div class="col-sm-9">
                <div ng-if="authorized" class="panel">
                    <form id="blogForm" ng-submit="addPost()">
                        <input type="text" id="postTitle" ng-model="newPost.title" ng-disabled="saving" placeholder="Title" autofocus>
                        <textarea id="postBody" ng-model="newPost.body" ng-disabled="saving" ng-tab="insertTab()" placeholder="Message"></textarea>
                        <input type="text" id="postTags" ng-model="newPost.tags" ng-disabled="saving" placeholder="Tags (separate with spaces)">
                        <button type="submit">Create Post</button>
                    </form>
                </div>
                <ul id="blogPosts" infinite-scroll="loadMore()">
                    <li ng-repeat="post in posts">
                        <div class="panel">
                            <div class="view">
                                <h2>
                                    {{ post.title }}
                                    <span class="timestamp">{{ moment(post.created_at).format('MMMM Do, YYYY') }}</span>
                                </h2>
                                <ul class="tags inline-bullets">
                                    <li ng-repeat="tag in post.tags">
                                        <a>{{ tag }}</a>
                                    </li>
                                </ul>
                                <div class="post-body" ng-bind-html="post.body"></div>
                            </div>
                            <form ng-submit="saveEdits(todo, 'submit')">
                                <input class="edit" ng-trim="false" ng-model="todo.title" ng-blur="saveEdits(todo, 'blur')">
                            </form>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>